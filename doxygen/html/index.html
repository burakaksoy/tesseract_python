<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tesseract Python: Tesseract Python</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="custom_dark_theme.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Tesseract Python
   </div>
   <div id="projectbrief">Tesseract Python Wrappers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Tesseract Python </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md_README"></a> <a href="https://github.com/tesseract-robotics/tesseract_python"><img src="https://img.shields.io/badge/python-3.7+-blue.svg" alt="Python" style="pointer-events: none;" class="inline"/></a></p>
<p ><img src="https://img.shields.io/pypi/v/tesseract-robotics" alt="PyPI" class="inline"/></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Platform   </th><th class="markdownTableHeadLeft">CI Status    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Linux (Focal)   </td><td class="markdownTableBodyLeft"><a href="https://github.com/tesseract-robotics/tesseract_python/actions"><img src="https://github.com/tesseract-robotics/tesseract_python/workflows/Focal-Build/badge.svg" alt="Build Status" style="pointer-events: none;" class="inline"/></a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Windows   </td><td class="markdownTableBodyLeft"><a href="https://github.com/tesseract-robotics/tesseract_python/actions"><img src="https://github.com/tesseract-robotics/tesseract_python/workflows/Windows-Noetic-Build/badge.svg" alt="Build Status" style="pointer-events: none;" class="inline"/></a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Wheels   </td><td class="markdownTableBodyLeft"><a href="https://github.com/tesseract-robotics/tesseract_python/actions"><img src="https://github.com/tesseract-robotics/tesseract_python/actions/workflows/wheels.yml/badge.svg" alt="Build Status" style="pointer-events: none;" class="inline"/></a>   </td></tr>
</table>
<p ><a href="http://github.com/tesseract-robotics/tesseract_python/issues"><img src="https://img.shields.io/github/issues/tesseract-robotics/tesseract_python.svg" alt="Github Issues" style="pointer-events: none;" class="inline"/></a></p>
<p ><a href="https://opensource.org/licenses/Apache-2.0"><img src="https://img.shields.io/:license-Apache%202.0-yellowgreen.svg" alt="license - apache 2.0" style="pointer-events: none;" class="inline"/></a> <a href="https://opensource.org/licenses/BSD-2-Clause"><img src="https://img.shields.io/:license-BSD%202--Clause-blue.svg" alt="license - bsd 2 clause" style="pointer-events: none;" class="inline"/></a></p>
<p ><a href="http://rosindustrial.org/news/2016/10/7/better-supporting-a-growing-ros-industrial-software-platform"><img src="https://img.shields.io/badge/support%20level-consortium-brightgreen.png" alt="support level: consortium" class="inline"/></a></p>
<p ><code>tesseract_python</code> contains Python wrappers for the Tesseract robot motion planner, generated using SWIG. These wrappers contain most of the Tesseract functionality, including scene loading and management (URDF,SRDF, meshes), collision checking (Bullet, FCL), kinematics (KDL, OPW, UR), planning (OMPL, Descartes, TrajOpt), and visualization (tesseract_viewer_python)</p>
<p >Standalone packages are provided on PyPi (pip install) for Windows and Linux, containing all the native dependencies for Python 3.7+.</p>
<p ><b>Note that these are low level wrappers.</b> The lifecycle of objects follow the underlying C++ objects, meaning that the target of C++ references may be destroyed before the reference, leading to a memory error. These wrappers do not attempt to change the memory lifecycle of the underlying C++ objects.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Installation</h1>
<p >Standalone packages are provided on PyPi (pip install) for Windows and Linux, containing Tesseract, Tesseract Planning, andall the native dependencies for Python 3.7+. These packages have been tested on Windows 10, Ubuntu 20.04, and Ubuntu 22.04, but should work on any relatively recent x64 Windows or Linux operating system. Packages are available for Python 3.7 - 3.10.</p>
<p >To install on Windows: </p><div class="fragment"><div class="line">python -m pip install tesseract-robotics tesseract-robotics-viewer</div>
</div><!-- fragment --><p> To install on Ubuntu 20.04 and Ubuntu 22.04:</p>
<div class="fragment"><div class="line">sudo apt install python3-pip python3-numpy</div>
<div class="line"># The supplied version of pip on Ubuntu 20.04 is too old for manylinux_2_31, upgrade pip</div>
<div class="line">python3 -m pip install -U pip</div>
<div class="line">python3 -m pip install --user  tesseract_robotics tesseract_robotics_viewer</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2"></a>
Example</h1>
<p >ABB Tesseract viewer plan and viewer example:</p>
<p >Install <code>tesseract_robotics</code> and <code><a class="el" href="db/d5d/namespacetesseract__robotics__viewer.html">tesseract_robotics_viewer</a></code> as shown in Installation section.</p>
<p >Clone <code>tesseract</code> and <code>tesseract_python</code> repositories to retrieve example assets. This is not necessary if the example assets are not used.</p>
<div class="fragment"><div class="line">git clone --depth=1 https://github.com/tesseract-robotics/tesseract.git</div>
<div class="line">git clone --depth=1 https://github.com/tesseract-robotics/tesseract_python.git</div>
</div><!-- fragment --><p >Set the <code>TESSERACT_SUPPORT_DIR</code> so the example can find the URDF resources:</p>
<p >Linux:</p>
<div class="fragment"><div class="line">export TESSERACT_SUPPORT_DIR=`pwd`/tesseract/tesseract_support</div>
</div><!-- fragment --><p >Windows:</p>
<div class="fragment"><div class="line">set TESSERACT_SUPPORT_DIR=%CD%/tesseract/tesseract_support</div>
</div><!-- fragment --><p >Now run the example!</p>
<p >Windows:</p>
<div class="fragment"><div class="line">cd tesseract_python\tesseract_viewer_python\examples</div>
<div class="line">python abb_irb2400_viewer.py</div>
</div><!-- fragment --><p >Linux:</p>
<div class="fragment"><div class="line">cd tesseract_python/tesseract_viewer_python/examples</div>
<div class="line">python3 abb_irb2400_viewer.py</div>
</div><!-- fragment --><p >And point a modern browser to <code><a href="http://localhost:8000">http://localhost:8000</a></code> to see the animation!</p>
<p >Example source:</p>
<div class="fragment"><div class="line"><span class="keyword">from</span> tesseract_robotics.tesseract_common <span class="keyword">import</span> FilesystemPath, Isometry3d, Translation3d, Quaterniond, \</div>
<div class="line">    ManipulatorInfo</div>
<div class="line"><span class="keyword">from</span> tesseract_robotics.tesseract_environment <span class="keyword">import</span> Environment</div>
<div class="line"><span class="keyword">from</span> tesseract_robotics.tesseract_common <span class="keyword">import</span> ResourceLocator, SimpleLocatedResource</div>
<div class="line"><span class="keyword">from</span> tesseract_robotics.tesseract_command_language <span class="keyword">import</span> CartesianWaypoint, Waypoint, \</div>
<div class="line">    MoveInstructionType_FREESPACE, MoveInstructionType_START, MoveInstruction, Instruction, \</div>
<div class="line">    CompositeInstruction, flatten</div>
<div class="line"><span class="keyword">from</span> tesseract_robotics.tesseract_process_managers <span class="keyword">import</span> ProcessPlanningServer, ProcessPlanningRequest, \</div>
<div class="line">    FREESPACE_PLANNER_NAME</div>
<div class="line"><span class="keyword">import</span> os</div>
<div class="line"><span class="keyword">import</span> re</div>
<div class="line"><span class="keyword">import</span> traceback</div>
<div class="line"><span class="keyword">from</span> tesseract_robotics_viewer <span class="keyword">import</span> TesseractViewer</div>
<div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"><span class="keyword">import</span> time</div>
<div class="line"><span class="keyword">import</span> sys</div>
<div class="line"> </div>
<div class="line">TESSERACT_SUPPORT_DIR = os.environ[<span class="stringliteral">&quot;TESSERACT_SUPPORT_DIR&quot;</span>]</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>TesseractSupportResourceLocator(ResourceLocator):</div>
<div class="line">    <span class="keyword">def </span>__init__(self):</div>
<div class="line">        super().__init__()</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">def </span>locateResource(self, url):</div>
<div class="line">        <span class="keywordflow">try</span>:</div>
<div class="line">            <span class="keywordflow">try</span>:</div>
<div class="line">                <span class="keywordflow">if</span> os.path.exists(url):</div>
<div class="line">                    <span class="keywordflow">return</span> SimpleLocatedResource(url, url, self)</div>
<div class="line">            <span class="keywordflow">except</span>:</div>
<div class="line">                <span class="keywordflow">pass</span></div>
<div class="line">            url_match = re.match(<span class="stringliteral">r&quot;^package:\/\/tesseract_support\/(.*)$&quot;</span>,url)</div>
<div class="line">            <span class="keywordflow">if</span> (url_match <span class="keywordflow">is</span> <span class="keywordtype">None</span>):</div>
<div class="line">                print(<span class="stringliteral">&quot;url_match failed&quot;</span>)</div>
<div class="line">                <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line">            <span class="keywordflow">if</span> <span class="keywordflow">not</span> <span class="stringliteral">&quot;TESSERACT_SUPPORT_DIR&quot;</span> <span class="keywordflow">in</span> os.environ:</div>
<div class="line">                <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line">            tesseract_support = os.environ[<span class="stringliteral">&quot;TESSERACT_SUPPORT_DIR&quot;</span>]</div>
<div class="line">            filename = os.path.join(tesseract_support, os.path.normpath(url_match.group(1)))</div>
<div class="line">            ret = SimpleLocatedResource(url, filename, self)</div>
<div class="line">            <span class="keywordflow">return</span> ret</div>
<div class="line">        <span class="keywordflow">except</span>:</div>
<div class="line">            traceback.print_exc()</div>
<div class="line"> </div>
<div class="line">abb_irb2400_urdf_fname = FilesystemPath(os.path.join(TESSERACT_SUPPORT_DIR,<span class="stringliteral">&quot;urdf&quot;</span>,<span class="stringliteral">&quot;abb_irb2400.urdf&quot;</span>))</div>
<div class="line">abb_irb2400_srdf_fname = FilesystemPath(os.path.join(TESSERACT_SUPPORT_DIR,<span class="stringliteral">&quot;urdf&quot;</span>,<span class="stringliteral">&quot;abb_irb2400.srdf&quot;</span>))</div>
<div class="line"> </div>
<div class="line">t_env = Environment()</div>
<div class="line"> </div>
<div class="line"><span class="comment"># locator_fn must be kept alive by maintaining a reference</span></div>
<div class="line">locator = TesseractSupportResourceLocator()</div>
<div class="line">t_env.init(abb_irb2400_urdf_fname, abb_irb2400_srdf_fname, locator)</div>
<div class="line"> </div>
<div class="line">manip_info = ManipulatorInfo()</div>
<div class="line">manip_info.tcp_frame = <span class="stringliteral">&quot;tool0&quot;</span></div>
<div class="line">manip_info.manipulator = <span class="stringliteral">&quot;manipulator&quot;</span></div>
<div class="line">manip_info.working_frame = <span class="stringliteral">&quot;base_link&quot;</span></div>
<div class="line"> </div>
<div class="line">viewer = TesseractViewer()</div>
<div class="line"> </div>
<div class="line">viewer.update_environment(t_env, [0,0,0])</div>
<div class="line"> </div>
<div class="line">joint_names = [<span class="stringliteral">&quot;joint_%d&quot;</span> % (i+1) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(6)]</div>
<div class="line">viewer.update_joint_positions(joint_names, np.array([1,-.2,.01,.3,-.5,1]))</div>
<div class="line"> </div>
<div class="line">viewer.start_serve_background()</div>
<div class="line"> </div>
<div class="line">t_env.setState(joint_names, np.ones(6)*0.1)</div>
<div class="line"> </div>
<div class="line">wp1 = CartesianWaypoint(Isometry3d.Identity() * Translation3d(0.8,-0.3,1.455) * Quaterniond(0.70710678,0,0.70710678,0))</div>
<div class="line">wp2 = CartesianWaypoint(Isometry3d.Identity() * Translation3d(0.8,0.3,1.455) * Quaterniond(0.70710678,0,0.70710678,0))</div>
<div class="line">wp3 = CartesianWaypoint(Isometry3d.Identity() * Translation3d(0.8,0.3,1) * Quaterniond(0.70710678,0,0.70710678,0))</div>
<div class="line"> </div>
<div class="line">start_instruction = MoveInstruction(Waypoint(wp1), MoveInstructionType_START, <span class="stringliteral">&quot;DEFAULT&quot;</span>)</div>
<div class="line">plan_f1 = MoveInstruction(Waypoint(wp2), MoveInstructionType_FREESPACE, <span class="stringliteral">&quot;DEFAULT&quot;</span>)</div>
<div class="line"> </div>
<div class="line">program = CompositeInstruction(<span class="stringliteral">&quot;DEFAULT&quot;</span>)</div>
<div class="line">program.setStartInstruction(Instruction(start_instruction))</div>
<div class="line">program.setManipulatorInfo(manip_info)</div>
<div class="line">program.append(Instruction(plan_f1))</div>
<div class="line"> </div>
<div class="line">planning_server = ProcessPlanningServer(t_env, 1)</div>
<div class="line">planning_server.loadDefaultProcessPlanners()</div>
<div class="line">request = ProcessPlanningRequest()</div>
<div class="line">request.name = FREESPACE_PLANNER_NAME</div>
<div class="line">request.instructions = Instruction(program)</div>
<div class="line"> </div>
<div class="line">response = planning_server.run(request)</div>
<div class="line">planning_server.waitForAll()</div>
<div class="line"> </div>
<div class="line"><span class="keyword">assert</span> response.interface.isSuccessful()</div>
<div class="line"> </div>
<div class="line">results = flatten(response.problem.getResults().as_CompositeInstruction())</div>
<div class="line"> </div>
<div class="line">viewer.update_trajectory(joint_names, results)</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> sys.version_info[0] &lt; 3:</div>
<div class="line">    input(<span class="stringliteral">&quot;press enter&quot;</span>)</div>
<div class="line"><span class="keywordflow">else</span>:</div>
<div class="line">    input(<span class="stringliteral">&quot;press enter&quot;</span>)</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md3"></a>
Tesseract Python Supported Packages</h1>
<ul>
<li><b>tesseract_collision</b> – This package contains privides a common interface for collision checking prividing several implementation of a Bullet collision library and FCL collision library. It includes both continuous and discrete collision checking for convex-convex, convex-concave and concave-concave shapes.</li>
<li><b>tesseract_common</b> – This package contains common functionality needed by the majority of the packages.</li>
<li><b>tesseract_environment</b> – This package contains the Tesseract Environment which provides functionality to add,remove,move and modify links and joint. It also manages adding object to the contact managers and provides the ability.</li>
<li><b>tesseract_geometry</b> – This package contains geometry types used by Tesseract including primitive shapes, mesh, convex hull mesh, octomap and signed distance field.</li>
<li><b>tesseract_kinematics</b> – This package contains a common interface for Forward and Inverse kinematics for Chain, Tree's and Graphs including implementation using KDL and OPW Kinematics.</li>
<li><b>tesseract_scene_graph</b> – This package contains the scene graph which is the data structure used to manage the connectivity of objects in the environment. It inherits from boost graph and provides addition functionality for adding,removing and modifying Links and Joints along with search implementation.</li>
<li><b>tesseract_support</b> – This package contains support data used for unit tests and examples throughout Tesseract.</li>
<li><b>tesseract_urdf</b> - This package contains a custom urdf parser supporting addition shapes and features currently not supported by urdfdom.</li>
<li><b>tesseract_visualization</b> – This package contains visualization utilities and libraries.</li>
<li><b>tesseract_command_language</b> - This is a generic programing language used as input for motion and process planning. It is very similar to how you currently program a robot on an industrial teach pendant.</li>
<li><b>tesseract_motion_planners</b> – This package contains a common interface for Planners and includes implementation for OMPL, TrajOpt, TrajOpt IFOPT and Descartes.</li>
<li><b>tesseract_process_managers</b> – This package contains a common interface for Process Planning and includes implementation for a wide variaty of process found industrial automation like painting, griding, welding, pick and place and more.</li>
<li><b>tesseract_time_parameterization</b> – This package contains a time parameterization algorithms and includes iteritive spline.</li>
</ul>
<h1><a class="anchor" id="autotoc_md4"></a>
Related Repositories</h1>
<ul>
<li><a href="https://github.com/tesseract-robotics/tesseract">Tesseract</a></li>
<li><a href="https://github.com/tesseract-robotics/tesseract_planning">Tesseract Planning</a></li>
<li><a href="https://github.com/tesseract-robotics/tesseract_ros">Tesseract ROS</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md5"></a>
Documentation</h1>
<ul>
<li><a href="https://ros-industrial-tesseract-python.rtfd.io">Wiki</a></li>
<li><a href="https://tesseract-robotics.github.io/tesseract_python/">Doxygen</a></li>
<li><a href="https://tesseract-robotics.github.io/tesseract_python/dev/bench">Benchmark</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md6"></a>
TODO's</h1>
<p >Warning: These packages are under heavy development and are subject to change.</p>
<p >See <a href="https://github.com/tesseract-robotics/tesseract/issues/66">issue #66</a></p>
<h1><a class="anchor" id="autotoc_md7"></a>
Build Instructions</h1>
<p >Building the tesseract_python package is complicated and not recommended for novice users. See the wheels.yml workflow for details on how to build the packages and all dependencies. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 5 2022 22:39:18 for Tesseract Python by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
